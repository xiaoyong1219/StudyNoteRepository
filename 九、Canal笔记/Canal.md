## canal简介及canal部署、原理和使用介绍

### 一、canal入门

什么是canal
阿里巴巴`B2B`公司，因为业务的特性，卖家主要集中在国内，买家主要集中在国外，所以衍生出了杭州和美国异地机房的需求，从2010年开始，阿里系公司开始逐步的尝试基于数据库的日志解析，获取增量变更进行同步，由此衍生出了增量订阅&消费的业务。

`canal`是用`java`开发的基于数据库增量日志解析，提供增量数据订阅&消费的中间件。目前，canal主要支持了`MySQL`的`binlog`解析，解析完成后才利用canal client 用来处理获得的相关数据。（数据库同步需要阿里的otter中间件，基于canal）。

这里我们可以简单地把canal理解为一个用来同步增量数据的一个工具：


![canal原理](images/7cdd65cbe549474f92d4b8b05a07fbb1.png)

`canal`通过`binlog`同步拿到变更数据，再发送到存储目的地，比如`MySQL`，Kafka，Elastic Search等多源同步。